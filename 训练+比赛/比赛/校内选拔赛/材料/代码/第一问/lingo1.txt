MODEL:
SETS:
city/A1..A20/:U;
links(city,city):distance,X;
ENDSETS
DATA:
distance=  
0	5	4	6	9	9	11	10	7	13	15	19	23	22	23	22	20	31	29	15
5	0	5	5	4	8	10	9	12	18	12	18	22	21	22	21	25	30	28	14
4	5	0	4	9	9	7	6	7	13	15	15	19	18	19	18	20	27	25	11
6	5	4	0	5	5	5	6	11	17	11	13	17	16	17	20	24	25	23	9
9	4	9	5	0	6	8	11	16	22	10	16	20	19	20	25	29	28	26	12
9	8	9	5	6	0	6	11	16	22	6	10	14	13	18	25	29	26	20	8
11	10	7	5	8	6	0	5	10	16	12	10	12	11	12	19	23	20	18	4
10	9	6	6	11	11	5	0	5	11	17	15	13	12	13	14	18	21	19	5
7	12	7	11	16	16	10	5	0	6	22	20	16	15	16	15	13	24	22	8
13	18	13	17	22	22	16	11	6	0	28	26	20	13	14	13	7	22	20	14
15	12	15	11	10	6	12	17	22	28	0	6	10	17	24	31	35	32	16	14
19	18	15	13	16	10	10	15	20	26	6	0	6	15	22	29	33	30	10	12
23	22	19	17	20	14	12	13	16	20	10	6	0	9	16	23	27	24	6	8
22	21	18	16	19	13	11	12	15	13	17	15	9	0	7	14	18	15	7	7
23	22	19	17	20	18	12	13	16	14	24	22	16	7	0	7	11	8	14	10
22	21	18	20	25	25	19	14	15	13	31	29	23	14	7	0	6	9	21	17
20	25	20	24	29	29	23	18	13	7	35	33	27	18	11	6	0	15	25	21
31	30	27	25	28	26	20	21	24	22	32	30	24	15	8	9	15	0	22	18
29	28	25	23	26	20	18	19	22	20	16	10	6	7	14	21	25	22	0	14
15	14	11	9	12	8	4	5	8	14	14	12	8	7	10	17	21	18	14	0;
ENDDATA
n=@SIZE(city);
MIN=@SUM(links:distance*X);
@FOR(city(k):
@SUM(city(i)|i#ne#k:x(i,k))=1;
@SUM(city(j)|j#ne#k:x(k,j))=1;
@FOR(city(j)|j#gt#1 #and# j#ne#k:U(j)>=U(k)+X(k,j)-(N-2)*(1-X(k,j))+(N-3)*X(j,k)););
@FOR(links:@BIN(x));
@FOR(city(k)|k#gt#1:
U(k)<=N-1-(N-2)*X(1,k);
U(k)>=1+(N-2)*X(k,1));
